{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { RouterLink } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { environment } from '../../../../../environments/environment';\nexport let RegisterComponent = class RegisterComponent {\n  constructor(http, authService, router) {\n    this.http = http;\n    this.authService = authService;\n    this.router = router;\n    this.registerForm = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: '',\n      password: '',\n      confirmPassword: '',\n      agreeTerms: false,\n      ageConfirm: false\n    };\n    this.isSubmitting = false;\n    this.errorMessage = '';\n    this.successMessage = '';\n  }\n  onSubmit() {\n    this.errorMessage = '';\n    if (!this.validateForm()) {\n      return;\n    }\n    this.isSubmitting = true;\n    const payload = {\n      firstName: this.registerForm.firstName,\n      lastName: this.registerForm.lastName,\n      email: this.registerForm.email,\n      phone: this.registerForm.phone,\n      password: this.registerForm.password\n    };\n    this.http.post(`${environment.apiUrl}/auth/register`, payload).subscribe({\n      next: response => {\n        this.isSubmitting = false;\n        this.successMessage = 'Account created successfully! Redirecting...';\n        setTimeout(() => {\n          this.router.navigate(['/auth/login']);\n        }, 2000);\n      },\n      error: err => {\n        this.isSubmitting = false;\n        this.errorMessage = err.error?.message || 'Registration failed. Please try again.';\n      }\n    });\n  }\n  validateForm() {\n    if (!this.registerForm.firstName || !this.registerForm.lastName) {\n      this.errorMessage = 'Please enter your full name.';\n      return false;\n    }\n    if (!this.registerForm.email) {\n      this.errorMessage = 'Please enter a valid email address.';\n      return false;\n    }\n    if (!this.registerForm.phone) {\n      this.errorMessage = 'Please enter your phone number.';\n      return false;\n    }\n    if (this.registerForm.password.length < 8) {\n      this.errorMessage = 'Password must be at least 8 characters.';\n      return false;\n    }\n    if (this.registerForm.password !== this.registerForm.confirmPassword) {\n      this.errorMessage = 'Passwords do not match.';\n      return false;\n    }\n    if (!this.registerForm.ageConfirm) {\n      this.errorMessage = 'You must confirm you are 21 or older.';\n      return false;\n    }\n    if (!this.registerForm.agreeTerms) {\n      this.errorMessage = 'You must agree to the terms and conditions.';\n      return false;\n    }\n    return true;\n  }\n};\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  standalone: true,\n  imports: [RouterLink, CommonModule, FormsModule],\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})], RegisterComponent);","map":{"version":3,"names":["Component","RouterLink","CommonModule","FormsModule","environment","RegisterComponent","constructor","http","authService","router","registerForm","firstName","lastName","email","phone","password","confirmPassword","agreeTerms","ageConfirm","isSubmitting","errorMessage","successMessage","onSubmit","validateForm","payload","post","apiUrl","subscribe","next","response","setTimeout","navigate","error","err","message","length","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\Projects\\CE\\frontend\\src\\app\\features\\auth\\register\\register.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { RouterLink, Router } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthService } from '../../../../core/services/auth.service';\nimport { environment } from '../../../../../environments/environment';\n\n@Component({\n  selector: 'app-register',\n  standalone: true,\n  imports: [RouterLink, CommonModule, FormsModule],\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent {\n  registerForm = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    password: '',\n    confirmPassword: '',\n    agreeTerms: false,\n    ageConfirm: false\n  };\n\n  isSubmitting = false;\n  errorMessage = '';\n  successMessage = '';\n\n  constructor(\n    private http: HttpClient,\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n  onSubmit() {\n    this.errorMessage = '';\n\n    if (!this.validateForm()) {\n      return;\n    }\n\n    this.isSubmitting = true;\n\n    const payload = {\n      firstName: this.registerForm.firstName,\n      lastName: this.registerForm.lastName,\n      email: this.registerForm.email,\n      phone: this.registerForm.phone,\n      password: this.registerForm.password\n    };\n\n    this.http.post<any>(`${environment.apiUrl}/auth/register`, payload)\n      .subscribe({\n        next: (response) => {\n          this.isSubmitting = false;\n          this.successMessage = 'Account created successfully! Redirecting...';\n          setTimeout(() => {\n            this.router.navigate(['/auth/login']);\n          }, 2000);\n        },\n        error: (err) => {\n          this.isSubmitting = false;\n          this.errorMessage = err.error?.message || 'Registration failed. Please try again.';\n        }\n      });\n  }\n\n  validateForm(): boolean {\n    if (!this.registerForm.firstName || !this.registerForm.lastName) {\n      this.errorMessage = 'Please enter your full name.';\n      return false;\n    }\n\n    if (!this.registerForm.email) {\n      this.errorMessage = 'Please enter a valid email address.';\n      return false;\n    }\n\n    if (!this.registerForm.phone) {\n      this.errorMessage = 'Please enter your phone number.';\n      return false;\n    }\n\n    if (this.registerForm.password.length < 8) {\n      this.errorMessage = 'Password must be at least 8 characters.';\n      return false;\n    }\n\n    if (this.registerForm.password !== this.registerForm.confirmPassword) {\n      this.errorMessage = 'Passwords do not match.';\n      return false;\n    }\n\n    if (!this.registerForm.ageConfirm) {\n      this.errorMessage = 'You must confirm you are 21 or older.';\n      return false;\n    }\n\n    if (!this.registerForm.agreeTerms) {\n      this.errorMessage = 'You must agree to the terms and conditions.';\n      return false;\n    }\n\n    return true;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}