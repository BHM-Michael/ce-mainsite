{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { RouterLink } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { environment } from '../../../../environments/environment';\nexport let BookComponent = class BookComponent {\n  constructor(http, router, authService) {\n    this.http = http;\n    this.router = router;\n    this.authService = authService;\n    this.currentStep = 1;\n    this.isLoggedIn = false;\n    this.bookingForm = {\n      service: '',\n      date: '',\n      time: '',\n      zipCode: '',\n      address: '',\n      squareFootage: '',\n      notes: ''\n    };\n    this.zipCodes = [{\n      code: '85701',\n      area: 'Downtown Tucson'\n    }, {\n      code: '85704',\n      area: 'Flowing Wells'\n    }, {\n      code: '85705',\n      area: 'Amphi / Prince'\n    }, {\n      code: '85710',\n      area: 'East Tucson'\n    }, {\n      code: '85711',\n      area: 'Midtown'\n    }, {\n      code: '85712',\n      area: 'Central Tucson'\n    }, {\n      code: '85715',\n      area: 'East Tucson'\n    }, {\n      code: '85718',\n      area: 'Catalina Foothills'\n    }, {\n      code: '85719',\n      area: 'University Area'\n    }, {\n      code: '85737',\n      area: 'Oro Valley'\n    }, {\n      code: '85739',\n      area: 'Catalina'\n    }, {\n      code: '85741',\n      area: 'Marana'\n    }, {\n      code: '85742',\n      area: 'Marana'\n    }, {\n      code: '85743',\n      area: 'Tucson Mountains'\n    }, {\n      code: '85745',\n      area: 'West Tucson'\n    }, {\n      code: '85750',\n      area: 'Sabino Canyon'\n    }, {\n      code: '85755',\n      area: 'Oro Valley'\n    }];\n    this.services = [{\n      id: 'private-reset',\n      name: 'The Private Reset',\n      price: 150,\n      duration: '2-3 hours'\n    }, {\n      id: 'deep-clean',\n      name: 'White-Glove Deep Clean',\n      price: 250,\n      duration: '3-4 hours'\n    }, {\n      id: 'move-in-out',\n      name: 'Move-In / Move-Out',\n      price: 300,\n      duration: '4-5 hours'\n    }, {\n      id: 'executive',\n      name: 'Executive Maintenance',\n      price: 125,\n      duration: '1.5-2 hours'\n    }];\n    this.availableTimes = ['9:00 AM', '10:00 AM', '11:00 AM', '12:00 PM', '1:00 PM', '2:00 PM', '3:00 PM', '4:00 PM'];\n    this.isSubmitting = false;\n    this.submitSuccess = false;\n    this.submitError = '';\n  }\n  ngOnInit() {\n    this.isLoggedIn = this.authService.isLoggedIn();\n  }\n  getSelectedService() {\n    return this.services.find(s => s.id === this.bookingForm.service);\n  }\n  getMinDate() {\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    return tomorrow.toISOString().split('T')[0];\n  }\n  nextStep() {\n    if (this.currentStep < 3) {\n      this.currentStep++;\n    }\n  }\n  prevStep() {\n    if (this.currentStep > 1) {\n      this.currentStep--;\n    }\n  }\n  canProceed() {\n    switch (this.currentStep) {\n      case 1:\n        return !!this.bookingForm.service;\n      case 2:\n        return !!this.bookingForm.date && !!this.bookingForm.time && !!this.bookingForm.zipCode;\n      default:\n        return true;\n    }\n  }\n  onSubmit() {\n    if (!this.isLoggedIn) {\n      this.router.navigate(['/auth/login'], {\n        queryParams: {\n          returnUrl: '/book'\n        }\n      });\n      return;\n    }\n    this.isSubmitting = true;\n    this.submitError = '';\n    this.http.post(`${environment.apiUrl}/bookings`, this.bookingForm).subscribe({\n      next: () => {\n        this.isSubmitting = false;\n        this.submitSuccess = true;\n      },\n      error: err => {\n        this.isSubmitting = false;\n        this.submitError = 'Something went wrong. Please try again.';\n      }\n    });\n  }\n};\nBookComponent = __decorate([Component({\n  selector: 'app-book',\n  standalone: true,\n  imports: [RouterLink, CommonModule, FormsModule],\n  templateUrl: './book.component.html',\n  styleUrls: ['./book.component.scss']\n})], BookComponent);","map":{"version":3,"names":["Component","RouterLink","CommonModule","FormsModule","environment","BookComponent","constructor","http","router","authService","currentStep","isLoggedIn","bookingForm","service","date","time","zipCode","address","squareFootage","notes","zipCodes","code","area","services","id","name","price","duration","availableTimes","isSubmitting","submitSuccess","submitError","ngOnInit","getSelectedService","find","s","getMinDate","tomorrow","Date","setDate","getDate","toISOString","split","nextStep","prevStep","canProceed","onSubmit","navigate","queryParams","returnUrl","post","apiUrl","subscribe","next","error","err","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\Projects\\CE\\frontend\\src\\app\\features\\public\\book\\book.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { RouterLink, Router } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthService } from '../../../../core/services/auth.service';\nimport { environment } from '../../../../environments/environment';\n\n@Component({\n  selector: 'app-book',\n  standalone: true,\n  imports: [RouterLink, CommonModule, FormsModule],\n  templateUrl: './book.component.html',\n  styleUrls: ['./book.component.scss']\n})\nexport class BookComponent implements OnInit {\n  currentStep = 1;\n  isLoggedIn = false;\n\n  bookingForm = {\n    service: '',\n    date: '',\n    time: '',\n    zipCode: '',\n    address: '',\n    squareFootage: '',\n    notes: ''\n  };\n\n  zipCodes = [\n    { code: '85701', area: 'Downtown Tucson' },\n    { code: '85704', area: 'Flowing Wells' },\n    { code: '85705', area: 'Amphi / Prince' },\n    { code: '85710', area: 'East Tucson' },\n    { code: '85711', area: 'Midtown' },\n    { code: '85712', area: 'Central Tucson' },\n    { code: '85715', area: 'East Tucson' },\n    { code: '85718', area: 'Catalina Foothills' },\n    { code: '85719', area: 'University Area' },\n    { code: '85737', area: 'Oro Valley' },\n    { code: '85739', area: 'Catalina' },\n    { code: '85741', area: 'Marana' },\n    { code: '85742', area: 'Marana' },\n    { code: '85743', area: 'Tucson Mountains' },\n    { code: '85745', area: 'West Tucson' },\n    { code: '85750', area: 'Sabino Canyon' },\n    { code: '85755', area: 'Oro Valley' }\n  ];\n\n  services = [\n    { id: 'private-reset', name: 'The Private Reset', price: 150, duration: '2-3 hours' },\n    { id: 'deep-clean', name: 'White-Glove Deep Clean', price: 250, duration: '3-4 hours' },\n    { id: 'move-in-out', name: 'Move-In / Move-Out', price: 300, duration: '4-5 hours' },\n    { id: 'executive', name: 'Executive Maintenance', price: 125, duration: '1.5-2 hours' }\n  ];\n\n  availableTimes = [\n    '9:00 AM', '10:00 AM', '11:00 AM', '12:00 PM',\n    '1:00 PM', '2:00 PM', '3:00 PM', '4:00 PM'\n  ];\n\n  isSubmitting = false;\n  submitSuccess = false;\n  submitError = '';\n\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private authService: AuthService\n  ) { }\n\n  ngOnInit() {\n    this.isLoggedIn = this.authService.isLoggedIn();\n  }\n\n  getSelectedService() {\n    return this.services.find(s => s.id === this.bookingForm.service);\n  }\n\n  getMinDate(): string {\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    return tomorrow.toISOString().split('T')[0];\n  }\n\n  nextStep() {\n    if (this.currentStep < 3) {\n      this.currentStep++;\n    }\n  }\n\n  prevStep() {\n    if (this.currentStep > 1) {\n      this.currentStep--;\n    }\n  }\n\n  canProceed(): boolean {\n    switch (this.currentStep) {\n      case 1:\n        return !!this.bookingForm.service;\n      case 2:\n        return !!this.bookingForm.date && !!this.bookingForm.time && !!this.bookingForm.zipCode;\n      default:\n        return true;\n    }\n  }\n\n  onSubmit() {\n    if (!this.isLoggedIn) {\n      this.router.navigate(['/auth/login'], { queryParams: { returnUrl: '/book' } });\n      return;\n    }\n\n    this.isSubmitting = true;\n    this.submitError = '';\n\n    this.http.post(`${environment.apiUrl}/bookings`, this.bookingForm)\n      .subscribe({\n        next: () => {\n          this.isSubmitting = false;\n          this.submitSuccess = true;\n        },\n        error: (err) => {\n          this.isSubmitting = false;\n          this.submitError = 'Something went wrong. Please try again.';\n        }\n      });\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}